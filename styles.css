:root {
  --bg: #0f172a;
  --surface: #1e293b;
  --primary: #38bdf8;
  --correct: #34d399;
  --wrong: #f87171;
  --text: #f8fafc;
  --subtle: #94a3b8;
  --radius: 14px;
  --shadow: 0 8px 20px rgba(0,0,0,.26);
  font-family: "SF Pro Text", "SF Pro Display", system-ui, -apple-system, BlinkMacSystemFont, "Helvetica Neue", sans-serif;
}
*,*::before,*::after{box-sizing:border-box;margin:0;padding:0}
body{background:var(--bg);color:var(--text);min-height:100vh;display:flex;flex-direction:column}
header{padding:1.2rem 1.4rem 1rem}
.large-title{font-size:2.2rem;font-weight:700;letter-spacing:-.8px}
.segmented{display:flex;border-radius:var(--radius);overflow:hidden;background:var(--surface);margin-top:.8rem}
.segmented button{flex:1;border:none;background:transparent;color:var(--subtle);padding:.7rem 0;font-size:1rem;font-weight:600;cursor:pointer;transition:background .2s}
.segmented button.active{background:var(--primary);color:#fff}
main{flex:1;padding:1.4rem}
footer{padding:1.4rem}
.btn-primary{width:100%;border:none;background:var(--primary);color:#fff;font-size:1.1rem;font-weight:600;padding:.9rem;border-radius:var(--radius);box-shadow:var(--shadow);cursor:pointer;transition:transform .15s}
.btn-primary:active{transform:scale(.96)}
.card{background:var(--surface);border-radius:var(--radius);padding:1.2rem;box-shadow:var(--shadow);margin-bottom:1.2rem}
.options{display:flex;flex-direction:column;gap:.8rem}
.option-btn{width:100%;text-align:left;border:2px solid transparent;background:var(--surface);color:var(--text);padding:.9rem 1rem;border-radius:var(--radius);font-size:1rem;cursor:pointer;transition:border-color .2s,transform .15s}
.option-btn:active{transform:scale(.98)}
.option-btn.correct{border-color:var(--correct)}
.option-btn.wrong{border-color:var(--wrong)}
.explain{margin-top:.8rem;font-size:.95rem;color:var(--subtle)}
.timer-bar{height:4px;background:var(--primary);border-radius:2px;margin-bottom:1.2rem;transform-origin:left;animation:countdown 30s linear}
@keyframes countdown{to{transform:scaleX(0)}}
.safe-top{padding-top:max(1.2rem, env(safe-area-inset-top, 1.2rem))}
.safe-bottom{padding-bottom:max(1.4rem, env(safe-area-inset-bottom, 1.4rem))}
.safe-left{padding-left:max(1.4rem, env(safe-area-inset-left, 1.4rem))}
.safe-right{padding-right:max(1.4rem, env(safe-area-inset-right, 1.4rem))}
.offline-screen{display:flex;flex-direction:column;align-items:center;justify-content:center;text-align:center;min-height:50vh;color:var(--subtle)}
@media(prefers-color-scheme:light){
  :root{--bg:#f1f5f9;--surface:#fff;--text:#0f172a;--subtle:#64748b}
}
